#----------------------------------------------------------------------------------------------------------------------
# Clang-Format Configuration File
#----------------------------------------------------------------------------------------------------------------------
# This file defines the style rules used by clang-format for C++ codebases.
# All options are documented and grouped by category for readability.
#----------------------------------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------------------------------
# Base Style
#----------------------------------------------------------------------------------------------------------------------
# Inherit formatting rules from a predefined style.
# Possible values: LLVM, Google, Chromium, Mozilla, WebKit, Microsoft, GNU, InheritParentConfig
# (String)
BasedOnStyle: LLVM

#----------------------------------------------------------------------------------------------------------------------
# Language Setting
#----------------------------------------------------------------------------------------------------------------------
# Target language for formatting.
# Cpp: applies to C, C++, Objective-C, Objective-C++
# (LanguageKind) clang-format 3.5
Language: Cpp

#----------------------------------------------------------------------------------------------------------------------
# Indentation & Tabs
#----------------------------------------------------------------------------------------------------------------------
# Number of spaces per indentation level.
# (Unsigned) clang-format 3.7
IndentWidth: 4

# Number of spaces per tab character.
# (Unsigned) clang-format 3.7
TabWidth: 4

# Control use of tabs vs spaces.
# (UseTabStyle) clang-format 3.7
#  UseTabStyle: Never, ForIndentation, Always
UseTab: Never

#----------------------------------------------------------------------------------------------------------------------
# Alignment & Spacing
#----------------------------------------------------------------------------------------------------------------------
# Analyze the formatted file for the most common alignment of & and *. PointerAlignment is then used only as fallback.
# (Boolean) clang-format 3.7
DerivePointerAlignment: false

# Pointer and reference alignment
# (PointerAlignmentStyle) clang-format 3.7
#  PointerAlignmentStyle: Left, Right, Middle
PointerAlignment: Left

# Extra indent for access specifiers (public:, private:, etc.)
# (Integer) clang-format 3.3
AccessModifierOffset: -4

# Align after open brackets
# (BracketAlignmentStyle) clang-format 3.8
#  BracketAlignmentStyle: Align, DontAlign, AlwaysBreak, BlockIndent
AlignAfterOpenBracket: Align

# Control alignment.
# (AlignConsecutiveStyle) clang-format 3.8
AlignConsecutiveAssignments: true
AlignConsecutiveDeclarations: true
AlignOperands: true

# Align trailing comments.
AlignTrailingComments: true

# The maximum number of consecutive empty lines to keep.
# (Unsigned) clang-format 3.7
MaxEmptyLinesToKeep: 2

# Add space before parentheses in function declarations and calls.
# (SpaceBeforeParensStyle) clang-format 3.5
#  SpaceBeforeParensStyle: Never, ControlStatements, ControlStatementsExceptControlMacros, NonEmptyParentheses, Always
SpaceBeforeParens: ControlStatements

# Insert a space before range-based for loop colon.
# (Boolean) clang-format 7
SpaceBeforeRangeBasedForLoopColon: true

# Spaces in angle brackets for templates.
# (Boolean) clang-format 3.7
SpaceInEmptyParentheses: false

# If true, a space may be inserted after C style casts.
# (Boolean) clang-format 3.5
SpaceAfterCStyleCast: false

# If false, spaces will be removed before assignment operators.
# (Boolean) clang-format 3.7
SpaceBeforeAssignmentOperators: true

# The number of spaces before trailing line comments (// - comments).
# This does not affect trailing block comments (/* - comments) as those commonly have different usage patterns and a number of special cases.
# (Unsigned) clang-format 3.7
SpacesBeforeTrailingComments: 1

# If true, spaces will be inserted after < and before > in template argument lists.
SpacesInAngles: false

# If true, spaces may be inserted into C style casts.
# (Boolean) clang-format 3.7
SpacesInCStyleCastParentheses: false

# If true, spaces are inserted inside container literals (e.g. ObjC and Javascript array and dict literals).
# (Boolean) clang-format 3.7
SpacesInContainerLiterals: false

# If true, spaces will be inserted after ( and before ).
# (Boolean) clang-format 3.7
SpacesInParentheses: false

# If true, spaces will be inserted after [ and before ].
# (Boolean) clang-format 3.7
SpacesInSquareBrackets: false

#----------------------------------------------------------------------------------------------------------------------
# Braces & Blocks
#----------------------------------------------------------------------------------------------------------------------
# Brace wrapping style.
# (BraceBreakingStyle) clang-format 3.7
#  BraceBreakingStyle: Attach, Linux, Mozilla, Stroustrup, Allman, Whitesmiths, GNU, WebKit, Custom
BreakBeforeBraces: Custom

# If BreakBeforeBraces is set to Custom, control of individual brace wrapping cases. 
# (BraceWrappingFlags) clang-format 3.8
BraceWrapping:
  AfterClass:               true
  AfterControlStatement:    true
  AfterEnum:                true
  AfterFunction:            true
  AfterNamespace:           true
  AfterStruct:              true
  AfterUnion:               true
  BeforeCatch:              true
  BeforeElse:               true
  SplitEmptyFunction:       false

#----------------------------------------------------------------------------------------------------------------------
# Functions & Constructors
#----------------------------------------------------------------------------------------------------------------------
# Dependent on the value, int f() { return 0; } can be put on a single line
# (ShortFunctionStyle) clang-format 3.5
#  ShortFunctionStyle: None, InlineOnly, Empty, Inline, All
AllowShortFunctionsOnASingleLine: InlineOnly

# If the function declaration doesn’t fit on a line, allow putting all parameters of a function declaration onto
# the next line even if BinPackParameters is OnePerLine.
# (Boolean) clang-format 3.3 
AllowAllParametersOfDeclarationOnNextLine: false

# Dependent on the value, while (true) { continue; } can be put on a single line.
# (ShortBlockStyle) clang-format 3.5
#  ShortBlockStyle: Never, Empty, Always
AllowShortBlocksOnASingleLine: true

# If true, short case labels will be contracted to a single line.
# (Boolean) clang-format 3.6
AllowShortCaseLabelsOnASingleLine: true

# Dependent on the value, if (a) return; can be put on a single line.
# (ShortIfStyle) clang-format 3.3
#  ShortIfStyle: Never, WithoutElse, OnlyFirstIf, AllIfsAndElse
AllowShortIfStatementsOnASingleLine: true

# Dependent on the value, auto lambda []() { return 0; } can be put on a single line.
# (ShortLambdaStyle) clang-format 9
#  ShortLambdaStyle: None, Empty, Inline, All
AllowShortLoopsOnASingleLine: true

# If false, a function call’s arguments will either be all on the same line or will have one line each.
# (Boolean) clang-format 3.7
BinPackArguments: false
BinPackParameters: false

# The number of characters to use for indentation of constructor initializer lists as well as inheritance lists.
# (Unsigned) clang-format 3.7
ConstructorInitializerIndentWidth: 0

# Break constructor initializer lists.
# (BreakConstructorInitializersStyle) clang-format 5
#  BreakConstructorInitializersStyle: BeforeColon, BeforeComma, AfterColon
BreakConstructorInitializers: BeforeComma

# Place function return type on its own line if too long.
# (DefinitionReturnTypeBreakingStyle) clang-format 3.7
#  DefinitionReturnTypeBreakingStyle: None, All, TopLevel
AlwaysBreakAfterDefinitionReturnType: None

#----------------------------------------------------------------------------------------------------------------------
# Classes, Enums & Namespaces
#----------------------------------------------------------------------------------------------------------------------
# Indentation style for namespaces.
# (NamespaceIndentationKind) clang-format 3.7
#  NamespaceIndentationKind: None, Inner, All
NamespaceIndentation: None

# Indent case labels in switch.
# (Boolean) clang-format 3.3
IndentCaseLabels: true

# Indent access modifiers inside classes.
# (Boolean) clang-format 13
IndentAccessModifiers: false

#----------------------------------------------------------------------------------------------------------------------
# Includes
#----------------------------------------------------------------------------------------------------------------------
# Control include sorting.
SortIncludes: true

# Insert line breaks between include blocks.
# (IncludeBlocksStyle) clang-format 6
#  IncludeBlocksStyle: Preserve, Merge, Regroup
IncludeBlocks: Regroup

#----------------------------------------------------------------------------------------------------------------------
# Line Breaking
#----------------------------------------------------------------------------------------------------------------------
# Column limit for wrapping.
# (Unsigned) clang-format 3.7
# 120 - Fewer wraps for template-heavy code, lambdas, nested namespaces, and std::-heavy code. May be too wide for split-screen diffs.
ColumnLimit: 120

# Break before binary operators.
# (BinaryOperatorStyle) clang-format 3.6
#  BinaryOperatorStyle: None, NonAssignment, All
BreakBeforeBinaryOperators: None

# Break after template declaration.
AlwaysBreakBeforeMultilineStrings: false
AlwaysBreakTemplateDeclarations: true
BreakBeforeTernaryOperators: false
BreakConstructorInitializersBeforeComma: false

#----------------------------------------------------------------------------------------------------------------------
# Comments
#----------------------------------------------------------------------------------------------------------------------
# Reflow comments to fit within column limit.
# (ReflowCommentsStyle) clang-format 3.8
ReflowComments: true

#----------------------------------------------------------------------------------------------------------------------
# Exceptions
#----------------------------------------------------------------------------------------------------------------------

# The penalty for breaking around an assignment operator.
# (Unsigned) clang-format 5
PenaltyBreakAssignment: 200

# The penalty for breaking a function call after call(.
# (Unsigned) clang-format 3.7
PenaltyBreakBeforeFirstCallParameter: 100

# The penalty for breaking a function call after call.
# (Unsigned) clang-format 20
# PenaltyBreakBeforeMemberAccess: 100

# The penalty for breaking before a member access operator (., ->).
# (Unsigned) clang-format 3.7
PenaltyBreakComment: 150 

# The penalty for each line break introduced inside a comment.
# (Unsigned) clang-format 3.7
# PenaltyBreakFirstLessLess: 0

# The penalty for breaking before the first <<.
# (Unsigned) clang-format 14
# PenaltyBreakOpenParenthesis: 0

# The penalty for breaking after (.
# (Unsigned) clang-format 18
PenaltyBreakScopeResolution: 100

# The penalty for breaking after ::.
# (Unsigned) clang-format 3.7
PenaltyBreakString: 100

# The penalty for each line break introduced inside a string literal.
# (Unsigned) clang-format 7
PenaltyBreakTemplateDeclaration: 100

# The penalty for breaking after template declaration.
# (Unsigned) clang-format 3.7
PenaltyExcessCharacter: 200

# The penalty for each character outside of the column limit.
# (Unsigned) clang-format 12
PenaltyIndentedWhitespace: 100

# Penalty for each character of whitespace indentation (counted relative to leading non-whitespace column).
# (Unsigned) clang-format 3.7
PenaltyReturnTypeOnItsOwnLine: 1000

#----------------------------------------------------------------------------------------------------------------------
# Miscellaneous
#----------------------------------------------------------------------------------------------------------------------
# Keep empty lines at the start of blocks.
# (Boolean) clang-format 3.7
KeepEmptyLinesAtTheStartOfBlocks: false

# A regular expression that describes comments with special meaning, which should not be split into lines or otherwise changed.
# (String) clang-format 3.7
CommentPragmas: 'NOLINT'

# When set to true, clang-format automatically inserts or updates closing namespace comments
# (Boolean) clang-format 5
FixNamespaceComments: true

# When true, clang-format ensures that there is exactly one newline at the end of the file if it's missing. If there's no newline at end, it adds one.
# (Boolean) clang-format 16
InsertNewlineAtEOF: true

# This option tells clang-format that certain macros are whitespace-sensitive, meaning their contents should not be reformatted.
# (List of Strings) clang-format 11
WhitespaceSensitiveMacros: [STRINGIZE, PP_STRINGIZE, BOOST_PP_SEQ_FOR_EACH, Q_OBJECT]

#----------------------------------------------------------------------------------------------------------------------
# End of File
#----------------------------------------------------------------------------------------------------------------------
